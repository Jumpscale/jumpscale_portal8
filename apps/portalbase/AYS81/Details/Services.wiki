@usedefaults
h3. AYS Services
h2. test

{{datatables_use}}
{{aysservices ayspath:$$ayspath reponame:$$reponame}}
{{breadcrumb:
    {% if ayspath or error %}
    - Reposities: /ays81/repos
    - Repo $$reponame: /ays81/Repo?repopath=$$ayspath&repo=$$reponame
    {% endif %}
    - Services: /ays81/services
}}
{% if error is defined %}
Error : ${error}

{% else %}

{{actions:
- display: Delete Service
  action: /restmachine/system/atyourservice/deleteService
  showresponse: True
  hide: True
}}
|| Actor Name || Name || State || Actions ||
    {% for service in services -%}
      | ${service.role} | [${service.name}|ays81/Service?aysrole=${service.role}&aysname=${service.name}&ayspath=$$ayspath&reponame=${reponame}] | ${service.state} | {{action label:'Delete' deleterow:true id:'action-DeleteService' class:'glyphicon glyphicon-trash' data-repositorypath:'$$ayspath' data-role:'${service.role}' data-instance:'${service.name}'}} |
    {% else %}
    This repository doesn't contain any service instance yet.
    {% endfor %}

{%endif%}
