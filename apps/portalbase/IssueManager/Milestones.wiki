@usedefaults

{{milestones}}
# this makes sure bootstrap datatables functionality is used
{{datatables_use}}


{% for milestone, info in milestones.items() -%}
    {{accordion:
        - title: ${milestone}
          label_color: blue
          label_icon: ''
          content: |
            <table>
                <th>Repo</th><th>Title</th><th>Priority</th><th>State</th>
                {% for issue in info -%}
                    {% if issue.state in ['done', 'resolved', 'wontfix'] %}
                        {% set state = "<red style='color:red'> {} </red>".format(issue.state) -%}
                    {% elif issue.state in 'new' %}
                        {% set state = "<green style='color:green'> New </green>" -%}
                    {% else %}
                        {% set state = "<blue style='color:blue'> {} </blue>".format(issue.state) -%}
                    {% endif -%}
                    <tr><td>${issue.repo}</td><td>${issue.title}</td><td>${issue.priority}</td><td>${state}</td></tr>
                {% endfor %}
             </table>
          label_content: 'Number of issues: ${info|length}'
          code: False
    }}
{% endfor %}


{{cssstyle
table {
    width: 100%;
}
th, td {
    border: 1px solid black;
    padding: 8px;
}
th {
    background-color: #5d88b3;
}
td {
    /*min-width: 100px;*/
    max-width:170px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
}}
